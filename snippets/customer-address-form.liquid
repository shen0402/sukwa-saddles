{% if address.id != null %}
  {% assign address_id = address.id %}
{% else %}
  {% assign address_id = 'new' %}
{% endif %}

<div 
  class="customer-address-edit-form
  {% if customer.addresses.size == 0 %}customer-address-edit-only{% endif %}" 
  data-address-id="{{ address_id }}">
  {% form 'customer_address', address %}

    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-firstname">
        {{ 'customers.general.first_name' | t }}
      </label>
      <input 
        id="customer-addr-{{ address_id }}-firstname"
        class="input-field" 
        type="text" 
        name="address[first_name]"
        value="{{form.first_name}}">
    </div>

    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-lastname">
        {{ 'customers.general.last_name' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-lastname" 
        type="text"
        name="address[last_name]" 
        value="{{form.last_name}}">
    </div>

    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-company">
        {{ 'customers.addresses.company' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-company" 
        type="text" 
        name="address[company]" 
        value="{{form.company}}">
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-address1">
        {{ 'customers.addresses.address_1' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-address1" 
        type="text" 
        name="address[address1]" 
        value="{{form.address1}}">
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-address2">
        {{ 'customers.addresses.address_2' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-address2" 
        type="text" 
        name="address[address2]" 
        value="{{form.address2}}">
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-city">
        {{ 'customers.addresses.city' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-city" 
        type="text" 
        name="address[city]" 
        value="{{form.city}}">
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-country">
        {{ 'customers.addresses.country' | t }}
      </label>
      <div class="select-wrapper">
        <select
          class="input-select"
          id="customer-addr-{{ address_id }}-country"
          name="address[country]"
          data-default="{{form.country}}">
          {{ country_option_tags }}
        </select>
      </div>
    </div>
    <div class="input-wrapper" 
      id="address-province-container-{{ address_id }}" >
      <label for="customer-addr-{{ address_id }}-province">
        {{ 'customers.addresses.province' | t }}
      </label>
      <div class="select-wrapper">
        <select
          class="input-select"
          id="customer-addr-{{ address_id }}-province"
          name="address[province]"
          data-default="{{form.province}}">
        </select>
      </div>
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-zip">
        {{ 'customers.addresses.zip' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-zip" 
        type="text" 
        name="address[zip]" 
        value="{{form.zip}}"
      />
    </div>
    <div class="input-wrapper">
      <label for="customer-addr-{{ address_id }}-phone">
        {{ 'customers.addresses.phone' | t }}
      </label>
      <input 
        class="input-field" 
        id="customer-addr-{{ address_id }}-phone" 
        type="text" 
        name="address[phone]" 
        value="{{form.phone}}"
      />
    </div>
    <div class="input-wrapper">
      <label>
        {{ form.set_as_default_checkbox }} 
        {{ 'customers.addresses.set_default' | t }}
      </label>
    </div>
    <div class="input-wrapper">
      <input 
        class="button" 
        type="submit" 
        id="submit-{{form.id}}" 
        value="{{ 'customers.addresses.submit' | t }}"
      /> 
      <span class="cancel-edit button secondary" data-edit-address="{{ address.id }}">
        {{ 'general.general.cancel' | t }}
      </span>
    </div>
  {% endform %}
</div>
